% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers.R
\name{api_request_wrapper}
\alias{api_request_wrapper}
\title{Send an API request and print CLI feedback}
\usage{
api_request_wrapper(
  object,
  method = c("POST", "PATCH", "PUT", "DELETE", "GET"),
  endpoint,
  api_key,
  use_dev = TRUE,
  verbosity = 0,
  object_label
)
}
\arguments{
\item{object}{An S7 object (e.g., \code{Dataset}, \code{Distribution}, \code{FileUpload}) to be sent as payload.}

\item{method}{HTTP method as string; one of \code{"POST"}, \code{"PATCH"}, \code{"PUT"}, \code{"DELETE"}, \code{"GET"}.}

\item{endpoint}{Character string; the target API endpoint.}

\item{api_key}{API key string used for authentication.}

\item{use_dev}{Logical; whether to use the development API base URL (default: \code{TRUE}).}

\item{verbosity}{Integer; verbosity level passed to httr2::req_perform() (default: 0).}

\item{object_label}{Human-readable label for the object (used in CLI messages).}
}
\value{
Invisibly returns either the raw \code{httr2_response} (for HTTP errors) or the parsed response as a list.
}
\description{
Sends an HTTP request to the API for a given S7 object and provides contextual
CLI feedback based on the object type and HTTP method.
The request body is automatically encoded as JSON or multipart/form-data.

On success, a confirmation message is shown via the CLI. On failure, a formatted error message is printed.
}
\keyword{internal}
