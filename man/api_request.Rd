% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api-helpers.R
\name{api_request}
\alias{api_request}
\title{Send API Request}
\usage{
api_request(
  method = c("GET", "POST", "PUT", "PATCH", "DELETE"),
  endpoint,
  object,
  object_label,
  api_key,
  verbosity = 0,
  use_dev = TRUE
)
}
\arguments{
\item{method}{HTTP method to use, e.g. \code{"POST"}, \code{"PATCH"}, \code{"GET"} (required).}

\item{endpoint}{Character string; relative API endpoint (e.g. \code{"/api/v1/datasets"}).}

\item{object}{An S7 object representing the payload (e.g., \code{Dataset}, \code{Distribution}, or \code{FileUpload}).}

\item{object_label}{Character string indicating the object type (used to determine encoding strategy).}

\item{api_key}{API key string used for authentication.}

\item{verbosity}{Integer; verbosity level passed to httr2::req_perform() (default: 0).}

\item{use_dev}{Logical; whether to use the development environment (default: \code{TRUE}).}
}
\value{
Parsed response content as a list.
}
\description{
Internal function to perform an API request for a given S7 object.
Depending on the object type, the payload is serialized as JSON (for most objects)
or as multipart/form-data (for file uploads). The request is executed using the \code{httr2} package.
}
\keyword{internal}
